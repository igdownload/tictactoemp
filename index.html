<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <link rel="icon" href="ico.ico" type = "image/x-icon">
        <link rel="stylesheet" href="style.css">
        <title>Tic Tac Toe</title>
    </head>
    <body>
        <div class="container-fluid" id="mainMenu">
            <div style="position: absolute; width: 100%; height: 100%; background-color: #03eaff; margin: none; left: 0; right: 0;"></div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <h1 class="text-center text-uppercase cf">
                        <div class="rot1">t</div>
                        <div class="rot2">i</div>
                        <div class="rot3">c</div>
                        <div class="">-</div>
                        <div class="rot2">t</div>
                        <div class="rot3">a</div>
                        <div class="rot1">c</div>
                        <div class="">-</div>
                        <div class="rot3">t</div>
                        <div class="rot1">o</div>
                        <div class="rot2">e</div>
                    </h1>
                </div>
            </div>
            <div class="row cm">
                <div class='col-md-4 offset-md-4 text-center'>
                    <div class="toast mx-auto" id='alert'>
                        <div class="toast-header text-center" id='alert-msg'>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 offset-md-4 text-center">
                    <h1 class="text-center text-uppercase text-danger">Main menu</h1>
                    <button class="btn btn-primary btn-block cm" onclick="javascript:local();">Local Game</button>
                    <button class="btn btn-primary btn-block cm" onclick="javascript:online();">Online Game</button>
                    <button class="btn btn-primary btn-block cm" onclick="javascript:host();">Host Game</button>
                    <button class="btn btn-primary btn-block cm" data-toggle="modal" data-target="#joinBox">Join Game</button>
                    <button class="btn btn-primary btn-block cm" data-toggle="modal" data-target="#helpBox">Help/Tutorial</button>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="joinBox">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #ebc934;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">Join Game</h2>
                        </div>
                        <div class="modal-body">
                            <input type="text" maxlength="8" id="joinCode" placeholder="Enter code here">
                            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="javascript:join();">Join</button>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="helpBox">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color:#00ffb6;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">Help/Tutorial</h2>
                        </div>
                        <div class="modal-body">
                            <h5>There are 4 modes available :-</h5>
                            <ul>
                                <li><h6>Local Game :</h6>It is an offline mode desgined for those who want to play on same device. It is simulation of Pen & Paper version of Tic-Tac-Toe.</li>
                                <li><h6>Online Game :</h6>This is an online mode in which you can play with random person playing at same time.</li>
                                <li><h6>Host Game :</h6>This online mode creates a personal room with a code to play with friends. You can share your code with others and they can play with you using that code.</li>
                                <li><h6>Join Game :</h6>This online mode provides option to join into someone else's room to play with him. Only 2 person can be there in a room at a time.</li>
                            </ul>
                            <h5>In case of any doubt/feedback, contact me at <br><a href="https://sites.google.com/view/igdownload/feedback" style="word-wrap: break-word;" target="_blank">https://sites.google.com/view/igdownload/feedback</a></h5>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger btn-block" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid" style="display: none;" id="onGame">
            <div id="overlay">
                <div class="spinner-border text-warning overlay-anim"></div>
                <div class="col-md-12 text-center" id="overlay-text">
                    <p id="overlay-msg">Please wait.....Joining</p>
                    <a onclick="javscript:copyToClip();" id="joiner">Room Code is : </a>
                </div>
                <button class="btn btn-primary" id="backbtn" onclick="javascript:mainMenu(0);">&#10149;</button>
                <div class="toast" id='copier'>
                    <div class="toast-header" id='copier-text'>
                        Code Copied to Clipboard
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="text-center">
                        <h1 class="text-center text-uppercase cf">
                            <div class="rot1">t</div>
                            <div class="rot2">i</div>
                            <div class="rot3">c</div>
                            <div class="">-</div>
                            <div class="rot2">t</div>
                            <div class="rot3">a</div>
                            <div class="rot1">c</div>
                            <div class="">-</div>
                            <div class="rot3">t</div>
                            <div class="rot1">o</div>
                            <div class="rot2">e</div>
                        </h1>
                    </div>
                    <button type="button" class="btn btn-primary pbtn" data-toggle="modal" data-target="#pauseMenu">&#9612;&#9612;</button>
                    <div>
                        <span class="font-weight-bold font-weight-italic" id="status"></span>
                    </div>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="pauseMenu">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #ebc934;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">game paused</h2>
                        </div>
                        <div class="modal-body">
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal">Resume</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-toggle="modal" data-target="#gameLog">Match Log</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javscript:forfeit();">Forfeit</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javscript:mainMenu(1);">Main Menu</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="gameOver">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #ebc934;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">game over</h2>
                        </div>
                        <div class="modal-body">
                            <h1 class="font-weight-bold lead text-center" id='overTitle'></h1>
                            <p class="font-italic font-weight-bolder lead text-center" id="overMsg"></p>
                            <button type="button" class="btn btn-primary btn-block cm" data-toggle="modal" data-target="#gameLog">Match Log</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javascript:playAgain();">Play Again</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javscript:mainMenu(0);">Main Menu</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="gameLog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #9ff5e4;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">game log</h2>
                        </div>
                        <div class="modal-body">
                            <div style="overflow-y: auto; width: auto; height: 300px;" id="gameLogText">
                                <p>Match Started</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-auto">
                    <table class="table table-bordered" id="mytable">
                        <tbody>
                            <tr>
                                <td><button id="btn_1" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_2" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_3" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                            <tr>
                                <td><button id="btn_4" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_5" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_6" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                            <tr>
                                <td><button id="btn_7" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_8" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_9" class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                            <tr style="visibility: hidden; height: 1px;">
                                <td><button class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button class="btn mybtn" type="button" onclick="this.innerHTML='O'; this.disabled='true'; send_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="container-fluid" style="display: none;" id="offGame">
            <div class="row">
                <div class="col-md-12">
                    <div class="text-center">
                        <h1 class="text-center text-uppercase cf">
                            <div class="rot1">t</div>
                            <div class="rot2">i</div>
                            <div class="rot3">c</div>
                            <div class="">-</div>
                            <div class="rot2">t</div>
                            <div class="rot3">a</div>
                            <div class="rot1">c</div>
                            <div class="">-</div>
                            <div class="rot3">t</div>
                            <div class="rot1">o</div>
                            <div class="rot2">e</div>
                        </h1>
                    </div>
                    <button type="button" class="btn btn-primary pbtn" data-toggle="modal" data-target="#pauseMenuLocal">&#9612;&#9612;</button>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="pauseMenuLocal">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #ebc934;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">game paused</h2>
                        </div>
                        <div class="modal-body">
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal">Resume</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-toggle="modal" data-target="#gameLogLocal">Match Log</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javscript:mainMenuLocal();">Main Menu</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="gameOverLocal">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #ebc934;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">game over</h2>
                        </div>
                        <div class="modal-body">
                            <h1 class="font-weight-bold lead text-center" id='overTitleLocal'></h1>
                            <p class="font-italic font-weight-bolder lead text-center" id="overMsgLocal"></p>
                            <button type="button" class="btn btn-primary btn-block cm" data-toggle="modal" data-target="#gameLogLocal">Match Log</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javascript:playAgainLocal();">Play Again</button>
                            <button type="button" class="btn btn-primary btn-block cm" data-dismiss="modal" onclick="javscript:mainMenuLocal();">Main Menu</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" data-backdrop="static" id="gameLogLocal">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content"  style="background-color: #9ff5e4;" >
                        <div class="modal-header" style="text-align: center;">
                            <h2 class="modal-title text-uppercase text-center" style="margin: auto;">game log</h2>
                        </div>
                        <div class="modal-body">
                            <div style="overflow-y: auto; width: auto; height: 300px;" id="gameLogLocalText">
                                <p>Match Started</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-auto">
                    <table class="table table-bordered" id="mytableLocal">
                        <tbody>
                            <tr>
                                <td><button id="btn_1_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_2_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_3_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                            <tr>
                                <td><button id="btn_4_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_5_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_6_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                            <tr>
                                <td><button id="btn_7_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_8_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button id="btn_9_local" class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                            <tr style="visibility: hidden; height: 1px;">
                                <td><button class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                                <td><button class="btn mybtn" type="button" onclick="play_move(this.id);">&nbsp;&nbsp;&nbsp;&nbsp;</button></td>
                            </tr>
                        </tbody>
                        <p class="lead text-center font-weight-bold" id="turn"></p>
                    </table>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="main.js"></script>
    </body>
</html>
